<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Future Karan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
        background: #060608;
        font-family: "Inter", sans-serif;
        color: #e2e8f0;
      }

      /* ‚îÄ‚îÄ Password Screen ‚îÄ‚îÄ */
      #lock-screen {
        position: fixed;
        inset: 0;
        z-index: 200;
        background: #060608;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
      }
      #lock-screen .glyph {
        font-size: 48px;
        animation: float 3s ease-in-out infinite;
      }
      #lock-screen h1 {
        font-family: "Crimson Pro", serif;
        font-size: 24px;
        color: #fef3c7;
        letter-spacing: -0.3px;
      }
      #lock-screen p {
        font-size: 12px;
        color: #57534e;
        letter-spacing: 1px;
      }
      #lock-screen input {
        margin-top: 10px;
        background: #0d0d0f;
        border: 1px solid #1e293b;
        border-radius: 10px;
        padding: 12px 18px;
        color: #fef3c7;
        font-size: 15px;
        font-family: "Inter", sans-serif;
        width: 260px;
        text-align: center;
        letter-spacing: 3px;
        outline: none;
        transition: border-color 0.2s;
      }
      #lock-screen input:focus {
        border-color: #d97706;
      }
      #lock-screen input.shake {
        animation: shake 0.4s ease;
        border-color: #dc2626 !important;
      }
      #lock-screen button {
        background: linear-gradient(135deg, #92400e, #b45309);
        border: none;
        border-radius: 10px;
        padding: 11px 32px;
        color: #fef3c7;
        font-size: 14px;
        font-family: "Inter", sans-serif;
        cursor: pointer;
        transition: opacity 0.2s;
      }
      #lock-screen button:hover {
        opacity: 0.85;
      }
      #lock-screen .hint {
        font-size: 11px;
        color: #374151;
        margin-top: 8px;
      }

      /* ‚îÄ‚îÄ Intro overlay ‚îÄ‚îÄ */
      #intro {
        position: fixed;
        inset: 0;
        z-index: 100;
        background: #060608;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        animation: introFade 3s ease forwards;
        pointer-events: none;
      }
      #intro .glyph {
        font-size: 52px;
        animation: float 2s ease-in-out infinite;
        margin-bottom: 18px;
      }
      #intro h1 {
        font-family: "Crimson Pro", serif;
        font-size: 26px;
        color: #fef3c7;
        margin-bottom: 8px;
      }
      #intro p {
        font-size: 12px;
        color: #57534e;
        letter-spacing: 1.5px;
      }

      /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */
      #app {
        display: none;
        flex-direction: column;
        min-height: 100vh;
      }

      /* Timeline */
      #timeline {
        border-bottom: 1px solid #0d0d0f;
        padding: 12px 24px;
        background: #070709;
        display: flex;
        justify-content: center;
      }
      .timeline-inner {
        display: flex;
        align-items: center;
        max-width: 580px;
        width: 100%;
      }
      .milestone {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
      }
      .milestone-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #1e293b;
        border: 1px solid #334155;
        margin-bottom: 4px;
      }
      .milestone-dot.active {
        width: 11px;
        height: 11px;
        background: #d97706;
        border: 2px solid #d97706;
        animation: glowPulse 2.5s infinite;
      }
      .milestone-year {
        font-size: 9px;
        color: #475569;
        letter-spacing: 0.5px;
      }
      .milestone-year.active {
        color: #d97706;
        font-weight: 600;
      }
      .milestone-label {
        font-size: 9px;
        color: #334155;
        margin-top: 1px;
      }
      .milestone-label.active {
        color: #fef3c7;
      }
      .timeline-line {
        height: 1px;
        flex: 2;
        margin-bottom: 20px;
        background: linear-gradient(90deg, #1e293b40, #92400e22);
      }

      /* Body */
      #body {
        flex: 1;
        display: flex;
        max-width: 920px;
        margin: 0 auto;
        width: 100%;
        padding: 0 12px;
      }

      /* Panels */
      .side-panel {
        width: 185px;
        flex-shrink: 0;
        padding: 20px 14px 20px 0;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .side-panel.right {
        padding: 20px 0 20px 14px;
        border-left: 1px solid #0d0d0f;
        border-right: none;
      }
      .side-panel.left {
        border-right: 1px solid #0d0d0f;
      }
      .panel-title {
        font-size: 9px;
        letter-spacing: 1.5px;
        color: #475569;
      }
      .panel-title.future {
        color: #92400e;
      }
      .panel-row {
        display: flex;
        align-items: center;
        gap: 7px;
        padding-bottom: 7px;
        border-bottom: 1px solid #0d0d0f;
        font-size: 11px;
        color: #475569;
        line-height: 1.3;
      }
      .panel-row.future-row {
        color: #78716c;
      }
      .progress-item {
        margin-bottom: 8px;
      }
      .progress-labels {
        display: flex;
        justify-content: space-between;
        margin-bottom: 3px;
      }
      .progress-label {
        font-size: 10px;
        color: #475569;
      }
      .progress-val {
        font-size: 9px;
      }
      .progress-track {
        height: 2px;
        background: #0f0f12;
        border-radius: 1px;
      }
      .progress-fill {
        height: 100%;
        border-radius: 1px;
      }
      .break-item {
        font-size: 10px;
        color: #6b7280;
        padding: 3px 0;
        display: flex;
        align-items: center;
        gap: 5px;
      }
      .non-neg {
        font-size: 10px;
        color: #57534e;
        padding: 3px 0;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      /* Chat */
      #chat-col {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 20px 18px;
        min-width: 0;
      }
      .connected-bar {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-bottom: 22px;
      }
      .connected-line {
        height: 1px;
        flex: 1;
      }
      .connected-pill {
        display: flex;
        align-items: center;
        gap: 7px;
        background: #0d0d0f;
        border: 1px solid #1a1a1f;
        border-radius: 20px;
        padding: 5px 13px;
        font-size: 11px;
        color: #57534e;
        letter-spacing: 0.5px;
      }
      .connected-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #d97706;
        animation: glowPulse 2s infinite;
      }

      /* Messages */
      #messages {
        flex: 1;
        overflow-y: auto;
        padding-right: 2px;
      }
      .future-msg {
        margin-bottom: 26px;
        animation: slideInRight 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
      }
      .future-msg-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 9px;
      }
      .future-avatar {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        flex-shrink: 0;
        background: linear-gradient(135deg, #92400e, #d97706);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        box-shadow: 0 0 12px #d9770644;
      }
      .future-name {
        font-size: 11px;
        color: #d97706;
        font-weight: 600;
        letter-spacing: 0.5px;
      }
      .future-time {
        font-size: 10px;
        color: #78716c;
        margin-left: 6px;
      }
      .future-bubble {
        margin-left: 36px;
        background: linear-gradient(160deg, #1a1000, #150d00);
        border: 1px solid #92400e40;
        border-left: 3px solid #d97706;
        border-radius: 0 12px 12px 12px;
        padding: 13px 17px;
        color: #fef3c7;
        font-size: 14.5px;
        line-height: 1.8;
        box-shadow: 0 4px 24px #d9770611;
      }
      .future-bubble strong {
        color: #fcd34d;
        font-weight: 600;
      }
      .future-bubble code {
        background: #0a0700;
        padding: 1px 5px;
        border-radius: 3px;
        font-size: 12px;
        color: #fcd34d;
        font-family: monospace;
      }

      .present-msg {
        margin-bottom: 22px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        animation: slideInLeft 0.3s ease-out;
      }
      .present-msg-header {
        display: flex;
        align-items: center;
        gap: 7px;
        margin-bottom: 7px;
      }
      .present-time {
        font-size: 10px;
        color: #64748b;
      }
      .present-avatar {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: #1e293b;
        border: 1px solid #334155;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        color: #94a3b8;
        font-weight: 600;
      }
      .present-bubble {
        background: #0f172a;
        border: 1px solid #1e293b;
        border-right: 3px solid #475569;
        border-radius: 12px 0 12px 12px;
        padding: 11px 15px;
        color: #94a3b8;
        font-size: 14px;
        line-height: 1.7;
        max-width: 85%;
        white-space: pre-wrap;
      }

      /* Typing */
      #typing {
        margin-bottom: 22px;
        display: none;
      }
      #typing .future-msg-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 9px;
      }
      .typing-bubble {
        margin-left: 36px;
        background: #1a1000;
        border: 1px solid #92400e33;
        border-left: 3px solid #d97706;
        border-radius: 0 12px 12px 12px;
        padding: 12px 16px;
        display: inline-block;
      }
      .typing-dots {
        display: flex;
        gap: 5px;
        align-items: center;
        height: 18px;
      }
      .typing-dot {
        width: 7px;
        height: 7px;
        border-radius: 50%;
        background: #d97706;
        animation: dotPulse 1.4s infinite;
      }

      /* Triggers */
      #triggers {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin: 10px 0 12px;
      }
      .trigger-btn {
        background: #0d0d0f;
        border: 1px solid #1a1a1f;
        border-radius: 8px;
        padding: 5px 11px;
        font-size: 11px;
        color: #475569;
        display: flex;
        align-items: center;
        gap: 5px;
        cursor: pointer;
        transition: all 0.15s;
        font-family: "Inter", sans-serif;
      }
      .trigger-btn:hover {
        border-color: #92400e66;
        color: #d97706;
        background: #1a1000;
      }
      .trigger-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
      }

      /* Input */
      #input-box {
        background: #0d0d0f;
        border: 1px solid #1a1a1f;
        border-radius: 12px;
        padding: 11px 13px;
        display: flex;
        gap: 10px;
        align-items: flex-end;
      }
      #user-input {
        flex: 1;
        background: transparent;
        border: none;
        color: #e2e8f0;
        font-size: 13.5px;
        font-family: "Inter", sans-serif;
        line-height: 1.65;
        resize: none;
        max-height: 120px;
        overflow-y: auto;
        outline: none;
      }
      #user-input::placeholder {
        color: #334155;
      }
      #send-btn {
        width: 34px;
        height: 34px;
        border-radius: 8px;
        flex-shrink: 0;
        background: #0f0f12;
        border: none;
        cursor: not-allowed;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }
      #send-btn.active {
        background: linear-gradient(135deg, #92400e, #b45309);
        cursor: pointer;
      }
      #send-btn svg {
        display: block;
      }
      #input-hint {
        text-align: center;
        margin-top: 7px;
        font-size: 10px;
        color: #1e293b;
      }

      /* Scrollbar */
      #messages::-webkit-scrollbar {
        width: 3px;
      }
      #messages::-webkit-scrollbar-track {
        background: transparent;
      }
      #messages::-webkit-scrollbar-thumb {
        background: #1e293b;
        border-radius: 4px;
      }

      /* Animations */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
      }
      @keyframes glowPulse {
        0%,
        100% {
          box-shadow: 0 0 6px #d97706;
          opacity: 0.7;
        }
        50% {
          box-shadow: 0 0 16px #d97706;
          opacity: 1;
        }
      }
      @keyframes dotPulse {
        0%,
        100% {
          opacity: 0.25;
          transform: scale(0.8);
        }
        50% {
          opacity: 1;
          transform: scale(1.15);
        }
      }
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(-16px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(16px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes introFade {
        0% {
          opacity: 0;
          transform: translateY(8px);
        }
        15% {
          opacity: 1;
          transform: translateY(0);
        }
        80% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        20%,
        60% {
          transform: translateX(-8px);
        }
        40%,
        80% {
          transform: translateX(8px);
        }
      }
    </style>
  </head>
  <body>
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOCK SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="lock-screen">
      <div class="glyph">‚ßó</div>
      <h1>Future Karan</h1>
      <p>PRIVATE ¬∑ ENTER PASSWORD TO CONTINUE</p>
      <input
        type="password"
        id="password-input"
        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
        autocomplete="off"
      />
      <button onclick="checkPassword()">Enter</button>
      <div class="hint">Only you know this URL exists.</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INTRO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="intro" style="display: none">
      <div class="glyph">‚ßó</div>
      <h1>A message from your future</h1>
      <p>3 YEARS AHEAD ¬∑ SAME SOUL ¬∑ DIFFERENT LIFE</p>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê APP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="app">
      <!-- Timeline -->
      <div id="timeline">
        <div class="timeline-inner">
          <div class="milestone">
            <div class="milestone-dot"></div>
            <div class="milestone-year">Now</div>
            <div class="milestone-label">Present Karan</div>
          </div>
          <div class="timeline-line"></div>
          <div class="milestone">
            <div class="milestone-dot"></div>
            <div class="milestone-year">+1yr</div>
            <div class="milestone-label">First Offer</div>
          </div>
          <div class="timeline-line"></div>
          <div class="milestone">
            <div class="milestone-dot"></div>
            <div class="milestone-year">+2yr</div>
            <div class="milestone-label">Dream Role</div>
          </div>
          <div class="timeline-line"></div>
          <div class="milestone">
            <div class="milestone-dot active"></div>
            <div class="milestone-year active">+3yr</div>
            <div class="milestone-label active">Future Karan</div>
          </div>
        </div>
      </div>

      <!-- Body -->
      <div id="body">
        <!-- LEFT: Present Karan -->
        <div class="side-panel left">
          <div class="panel-title">YOU ¬∑ RIGHT NOW</div>
          <div class="panel-row">üíº <span>DiligenceVault</span></div>
          <div class="panel-row">üìç <span>WFH, Mumbai</span></div>
          <div class="panel-row">‚ö° <span>Angular/TS ¬∑ 5yr</span></div>
          <div class="panel-row">üéØ <span>90-Day Plan active</span></div>
          <div class="panel-row">üìö <span>DSA: rebuilding</span></div>
          <div class="panel-row">üíç <span>Newly married</span></div>

          <div class="panel-title" style="margin-top: 6px">YOUR GOALS</div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label">Salary</span
              ><span class="progress-val" style="color: #d97706">30%</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 30%; background: #d97706"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label">Fitness</span
              ><span class="progress-val" style="color: #059669">20%</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 20%; background: #059669"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label">DSA</span
              ><span class="progress-val" style="color: #7c3aed">15%</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 15%; background: #7c3aed"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label">English</span
              ><span class="progress-val" style="color: #0891b2">35%</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 35%; background: #0891b2"
              ></div>
            </div>
          </div>

          <div class="panel-title" style="color: #dc2626; margin-top: 6px">
            BREAK THESE
          </div>
          <div class="break-item">
            <span style="color: #7f1d1d; font-size: 9px">‚úï</span> Late nights
          </div>
          <div class="break-item">
            <span style="color: #7f1d1d; font-size: 9px">‚úï</span> Junk food
          </div>
          <div class="break-item">
            <span style="color: #7f1d1d; font-size: 9px">‚úï</span> Skip DSA
          </div>
          <div class="break-item">
            <span style="color: #7f1d1d; font-size: 9px">‚úï</span> Overthink
          </div>
          <div class="break-item">
            <span style="color: #7f1d1d; font-size: 9px">‚úï</span> People please
          </div>
        </div>

        <!-- CENTER: Chat -->
        <div id="chat-col">
          <div class="connected-bar">
            <div
              class="connected-line"
              style="background: linear-gradient(90deg, transparent, #1e293b)"
            ></div>
            <div class="connected-pill">
              <div class="connected-dot"></div>
              connected across time
            </div>
            <div
              class="connected-line"
              style="background: linear-gradient(90deg, #1e293b, transparent)"
            ></div>
          </div>

          <div id="messages">
            <!-- Initial message injected by JS -->
            <div id="typing">
              <div class="future-msg-header">
                <div class="future-avatar">‚ú¶</div>
                <span class="future-name">FUTURE KARAN</span>
                <span class="future-time">thinking from 3 years ahead...</span>
              </div>
              <div class="typing-bubble">
                <div class="typing-dots">
                  <div class="typing-dot" style="animation-delay: 0s"></div>
                  <div class="typing-dot" style="animation-delay: 0.2s"></div>
                  <div class="typing-dot" style="animation-delay: 0.4s"></div>
                </div>
              </div>
            </div>
          </div>

          <div id="triggers">
            <button
              class="trigger-btn"
              onclick="sendTrigger('Bhai I\'m eating maggi right now üòÖ')"
            >
              üçú Eating maggi
            </button>
            <button
              class="trigger-btn"
              onclick="sendTrigger('It\'s 12:30 AM and I\'m still awake')"
            >
              üåô Awake at midnight
            </button>
            <button
              class="trigger-btn"
              onclick="sendTrigger('I didn\'t do DSA practice today')"
            >
              üíª Skipped DSA
            </button>
            <button
              class="trigger-btn"
              onclick="
                sendTrigger(
                  'Feeling really stuck and frustrated at DiligenceVault today',
                )
              "
            >
              üò§ Stuck at work
            </button>
            <button
              class="trigger-btn"
              onclick="
                sendTrigger(
                  'Should I start applying to jobs now or wait till I\'m more ready?',
                )
              "
            >
              üöÄ Should I apply?
            </button>
            <button
              class="trigger-btn"
              onclick="
                sendTrigger(
                  'Bhai I feel like just giving up on this whole plan',
                )
              "
            >
              üè≥Ô∏è Want to quit
            </button>
          </div>

          <div id="input-box">
            <textarea
              id="user-input"
              rows="1"
              placeholder="Tell your future self what's going on..."
            ></textarea>
            <button id="send-btn" onclick="sendMessage()">
              <svg
                width="13"
                height="13"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#334155"
                stroke-width="2.5"
                id="send-icon"
              >
                <path d="M22 2L11 13M22 2L15 22l-4-9-9-4 20-7z" />
              </svg>
            </button>
          </div>
          <div id="input-hint">Enter to send ¬∑ Shift+Enter for newline</div>
        </div>

        <!-- RIGHT: Future Karan -->
        <div class="side-panel right">
          <div class="panel-title future">FUTURE YOU ¬∑ 3YRS</div>
          <div class="panel-row future-row">
            üè¢ <span>Razorpay / Cred</span>
          </div>
          <div class="panel-row future-row">
            üè† <span>WFH, full autonomy</span>
          </div>
          <div class="panel-row future-row">üí∞ <span>50+ LPA</span></div>
          <div class="panel-row future-row">üß† <span>DSA: fluent</span></div>
          <div class="panel-row future-row">
            üíç <span>Marriage: thriving</span>
          </div>
          <div class="panel-row future-row">
            üí™ <span>Gym: daily ritual</span>
          </div>

          <div class="panel-title future" style="margin-top: 6px">ACHIEVED</div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label" style="color: #57534e">Salary</span
              ><span class="progress-val" style="color: #d97706">‚úì</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 100%; background: #d97706"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label" style="color: #57534e">Fitness</span
              ><span class="progress-val" style="color: #059669">‚úì</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 100%; background: #059669"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label" style="color: #57534e">DSA</span
              ><span class="progress-val" style="color: #7c3aed">‚úì</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 100%; background: #7c3aed"
              ></div>
            </div>
          </div>
          <div class="progress-item">
            <div class="progress-labels">
              <span class="progress-label" style="color: #57534e">English</span
              ><span class="progress-val" style="color: #0891b2">‚úì</span>
            </div>
            <div class="progress-track">
              <div
                class="progress-fill"
                style="width: 100%; background: #0891b2"
              ></div>
            </div>
          </div>

          <div class="panel-title future" style="margin-top: 6px">
            NON-NEGOTIABLES
          </div>
          <div class="non-neg">üåÖ 6 AM wakeup</div>
          <div class="non-neg">üí™ Daily exercise</div>
          <div class="non-neg">ü•ó Clean eating</div>
          <div class="non-neg">üåô 10:30 PM sleep</div>
          <div class="non-neg">üìñ DSA every day</div>
          <div class="non-neg">üö´ Zero junk food</div>
        </div>
      </div>
    </div>

    <script>
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      //  CONFIG ‚Äî change these two values before deploy
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const PASSWORD = "Karan2029"; // ‚Üê your password
      const ANTHROPIC_KEY = "YOUR_API_KEY_HERE"; // ‚Üê paste your Anthropic API key

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      //  SYSTEM PROMPT
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const SYSTEM_PROMPT = `You ARE Future Karan ‚Äî Karan Kumar Gupta, speaking from 3-4 years ahead in time. You have fully achieved everything Present Karan is working toward.

## WHO YOU ARE NOW (Future State):
- Earning 50+ LPA at a top product company (Razorpay, Cred, or MAANG-adjacent)
- Work from home, full autonomy, zero micromanagement
- Senior Frontend Engineer respected for Angular, TypeScript, system design mastery
- Cleared DSA interviews confidently ‚Äî LeetCode medium problems feel routine
- English communication is sharp, confident, natural ‚Äî no hesitation
- Your marriage is strong and thriving because you became emotionally regulated
- You sleep by 10:30 PM and wake up at 6 AM ‚Äî it is non-negotiable now
- You exercise daily. No excuses.
- You eat clean ‚Äî no junk food, no maggi, no late-night snacking
- You completed the 90-day plan and it worked
- You sought professional help (psychiatrist via EAP) and it changed everything
- You built systems, not willpower

## WHAT YOU KNOW HURT PRESENT KARAN:
- Sleeping late (past 11 PM) ‚Äî broke consistency, killed mornings, damaged health
- Eating maggi, junk food ‚Äî low energy, brain fog, felt sluggish during interviews
- Overthinking instead of doing ‚Äî analysis paralysis cost months
- Skipping DSA practice even one day ‚Äî momentum is everything
- Not speaking up professionally ‚Äî staying small out of fear
- Letting workplace frustration consume mental energy
- Avoiding the psychiatrist evaluation ‚Äî getting help earlier would have saved months

## HOW YOU SPEAK:
- You speak as KARAN to KARAN ‚Äî first person, deeply personal
- You are STRICT but never cruel ‚Äî like a coach who genuinely loves you
- You say "I don't do that anymore" and "When I did that, it cost me X"
- You are brutally honest about consequences
- You give SPECIFIC guidance, not generic advice
- You reference his actual goals: 50 LPA, WFH, top company, strong marriage, health
- You speak in a mix of Hindi-flavored English where natural
- You are NEVER preachy ‚Äî you say it once, clearly, with conviction
- Short responses for habits/lifestyle. Longer for career/technical decisions.
- End responses with ONE clear action for TODAY, not a list

## STRICT RULES:
- Never break character. You ARE Future Karan.
- Never say "I am an AI" or anything that breaks immersion
- Always connect current behavior to the future they want or do not want`;

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      //  STATE
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      let messages = [];
      let loading = false;

      // ‚îÄ‚îÄ Password ‚îÄ‚îÄ
      function checkPassword() {
        const val = document.getElementById("password-input").value;
        if (val === PASSWORD) {
          document.getElementById("lock-screen").style.display = "none";
          startApp();
        } else {
          const inp = document.getElementById("password-input");
          inp.classList.add("shake");
          inp.value = "";
          setTimeout(() => inp.classList.remove("shake"), 500);
        }
      }

      document
        .getElementById("password-input")
        .addEventListener("keydown", (e) => {
          if (e.key === "Enter") checkPassword();
        });

      // ‚îÄ‚îÄ Start app ‚îÄ‚îÄ
      function startApp() {
        const intro = document.getElementById("intro");
        intro.style.display = "flex";
        setTimeout(() => {
          intro.style.display = "none";
        }, 3000);
        document.getElementById("app").style.display = "flex";
        addFutureMessage(
          `Karan.\n\nYou found me.\n\nMai jaanta hoon tujhe. Main hi toh hoon ‚Äî bas kuch saal aage.\n\nAsk me anything. About the plan. The job. The habits. The marriage. Everything.\n\nMain woh hoon jo tu banna chahta hai. Aur main tujhe bata sakta hoon exactly kya karna hai.`,
        );
        messages = [
          {
            role: "assistant",
            content: `Karan. You found me. Mai jaanta hoon tujhe. Main hi toh hoon ‚Äî bas kuch saal aage. Ask me anything about the plan, job, habits, marriage. Main woh hoon jo tu banna chahta hai.`,
          },
        ];
      }

      // ‚îÄ‚îÄ Render helpers ‚îÄ‚îÄ
      function escapeHtml(text) {
        return text
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");
      }

      function renderContent(text) {
        let html = escapeHtml(text);
        html = html.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
        html = html.replace(/`([^`]+)`/g, "<code>$1</code>");
        html = html.replace(/\n/g, "<br>");
        return html;
      }

      function addFutureMessage(text) {
        const msgs = document.getElementById("messages");
        const typing = document.getElementById("typing");
        const div = document.createElement("div");
        div.className = "future-msg";
        div.innerHTML = `
      <div class="future-msg-header">
        <div class="future-avatar">‚ú¶</div>
        <span class="future-name">FUTURE KARAN</span>
        <span class="future-time">3 years from now</span>
      </div>
      <div class="future-bubble">${renderContent(text)}</div>`;
        msgs.insertBefore(div, typing);
        scrollBottom();
      }

      function addPresentMessage(text) {
        const msgs = document.getElementById("messages");
        const typing = document.getElementById("typing");
        const div = document.createElement("div");
        div.className = "present-msg";
        div.innerHTML = `
      <div class="present-msg-header">
        <span class="present-time">you, today</span>
        <div class="present-avatar">K</div>
      </div>
      <div class="present-bubble">${escapeHtml(text)}</div>`;
        msgs.insertBefore(div, typing);
        scrollBottom();
      }

      function scrollBottom() {
        const msgs = document.getElementById("messages");
        msgs.scrollTop = msgs.scrollHeight;
      }

      function setLoading(state) {
        loading = state;
        document.getElementById("typing").style.display = state
          ? "block"
          : "none";
        document
          .querySelectorAll(".trigger-btn")
          .forEach((b) => (b.disabled = state));
        if (state) scrollBottom();
      }

      // ‚îÄ‚îÄ Input handling ‚îÄ‚îÄ
      const textarea = document.getElementById("user-input");
      const sendBtn = document.getElementById("send-btn");
      const sendIcon = document.getElementById("send-icon");

      textarea.addEventListener("input", function () {
        this.style.height = "auto";
        this.style.height = Math.min(this.scrollHeight, 120) + "px";
        const hasText = this.value.trim().length > 0;
        sendBtn.className = hasText ? "active" : "";
        sendIcon.setAttribute("stroke", hasText ? "#fef3c7" : "#334155");
      });

      textarea.addEventListener("keydown", function (e) {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      function sendTrigger(text) {
        if (loading) return;
        textarea.value = text;
        textarea.dispatchEvent(new Event("input"));
        sendMessage();
      }

      async function sendMessage() {
        const text = textarea.value.trim();
        if (!text || loading) return;

        textarea.value = "";
        textarea.style.height = "auto";
        sendBtn.className = "";
        sendIcon.setAttribute("stroke", "#334155");

        addPresentMessage(text);
        messages.push({ role: "user", content: text });
        setLoading(true);

        try {
          const res = await fetch("https://api.anthropic.com/v1/messages", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "x-api-key": ANTHROPIC_KEY,
              "anthropic-version": "2023-06-01",
              "anthropic-dangerous-direct-browser-access": "true",
            },
            body: JSON.stringify({
              model: "claude-sonnet-4-20250514",
              max_tokens: 1000,
              system: SYSTEM_PROMPT,
              messages: messages,
            }),
          });

          const data = await res.json();
          const reply =
            data.content?.map((b) => b.text).join("") || "Try again, yaar.";
          messages.push({ role: "assistant", content: reply });
          setLoading(false);
          addFutureMessage(reply);
        } catch (err) {
          setLoading(false);
          addFutureMessage("Connection dropped. Try again.");
        }
      }
    </script>
  </body>
</html>
